# 实验名称，用于区分不同实验的 TensorBoard 日志
EXPERIMENT_NAME=bert_base_personality_unfreezed_without_metadata

# ========== 数据路径配置 ==========
TRAIN_FILE=datasets/news_personality/train.tsv
TEST_FILE=datasets/news_personality/test.tsv
ARTICLES_FILE=datasets/news_personality/articles.csv
# 是否在tokenizer输入中包含新闻文本（默认False，只使用评论）
INCLUDE_ARTICLE=False

# ========== 模型配置 ==========
# 基座模型名称，可选: roberta-base, bert-base-uncased, microsoft/deberta-base 等
BASE_MODEL=Minej/bert-base-personality
NUM_LABELS=5
# 是否冻结基座模型参数
FREEZE_BASE=False
# 是否只使用本地模型文件，不连接 Hugging Face（避免网络连接）
LOCAL_FILES_ONLY=True

# ========== 训练配置 ==========
BATCH_SIZE=32
LEARNING_RATE=2e-5
NUM_EPOCHS=100
MAX_LENGTH=512
# 验证集比例
VAL_SPLIT=0.1
# 随机种子
SEED=42
# 权重衰减
WEIGHT_DECAY=0.01
# 梯度裁剪
MAX_GRAD_NORM=1.0
# 是否使用元数据
USE_METADATA=False

# ========== 输出配置 ==========
OUTPUT_DIR=./checkpoints
# 注意：实际保存路径为 {OUTPUT_DIR}/{EXPERIMENT_NAME}/
LOG_DIR=logs
# 注意：实际保存路径为 {LOG_DIR}/{EXPERIMENT_NAME}/
TENSORBOARD_DIR=./runs

# ========== Checkpoint配置 ==========
# 从最后几个epoch开始保存checkpoint（从末尾计算）
# 例如：如果总epochs=100，SAVE_CHECKPOINT_FROM_EPOCH=10，则从第91个epoch开始保存
# 如果为-1，则全程都保存checkpoint（原有逻辑）
SAVE_CHECKPOINT_FROM_EPOCH=10
# 每N个epoch保存一次checkpoint（0表示每个epoch都保存）
SAVE_EVERY_N_EPOCHS=2
# 是否只保存最佳模型
SAVE_BEST_ONLY=False
# 最多保留的checkpoint数量（0表示不限制）
MAX_CHECKPOINTS=5

# ========== TensorBoard配置 ==========
# 是否使用TensorBoard
USE_TENSORBOARD=True
# 每N个batch记录一次到tensorboard
LOG_INTERVAL=10

# ========== 日志配置 ==========
# 日志级别: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
# 日志文件名（可选，如果为空则不保存到文件）
LOG_FILE=
# ========== 模型模式配置 ==========
# 是否使用聚合模式（多实例学习），False表示使用原始模型模式
USE_MULTI_INSTANCE=False
# ========== 模型模式配置 ==========
# 是否使用聚合模式（多实例学习），False表示使用原始模型模式
USE_MULTI_INSTANCE=False
# 是否使用MLP回归头
USE_MLP_HEAD=True
# MLP隐藏层大小
MLP_HIDDEN_SIZE=256

# 注意：元数据默认全部使用（gender, education, race, age, income）
# ========== 多实例学习配置 ==========
# 聚合方法: attention, mean, max, transformer
AGGREGATION_METHOD=mean
# 聚合层的隐藏层大小
AGGREGATION_HIDDEN_SIZE=256
# ========== GPU和显存优化配置 ==========
# 指定使用的GPU ID（None或空表示自动选择，可以设置为0,1,2等）
GPU_ID=0
# 是否使用梯度检查点（节省显存但增加计算时间）
GRADIENT_CHECKPOINTING=True
# 是否使用混合精度训练（FP16，节省显存）
FP16=True